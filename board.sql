-- board ?????
CREATE TABLE board(
    bno NUMBER(5) PRIMARY KEY,   --????
    title VARCHAR2(200) NOT NULL,         --??????
    writer VARCHAR2(20) NOT NULL,         --?????
    content VARCHAR2(2000) NOT NULL,      --?????
    regdate DATE DEFAULT SYSDATE --?????
);
-- ??????(?????, ???????)
CREATE SEQUENCE seq;

-- ????? ????? ???????(?????: cnt, ?????: NUMBER DEFAULT 0)
-- ALTER TABLE ???????? ADD ????? ?????
ALTER TABLE board ADD cnt NUMBER DEFAULT 0;

DESC board;

-- 게시글 추가
INSERT INTO board(bno, title, writer, content) 
VALUES(seq.NEXTVAL, '가입인사', '강남역', '안녕하세요, 가입인사 드려요');
INSERT INTO board(bno, title, writer, content) 
VALUES(seq.NEXTVAL, '공지사항입니다.', '관리자', '가입인사를 남겨주세요');
INSERT INTO board(bno, title, writer, content) 
VALUES(seq.NEXTVAL, '가입인사입니다.', '이강', '안녕하세요~');
INSERT INTO board(bno, title, writer, content) 
VALUES(seq.NEXTVAL, '가입인사입니다.', '이강', '안녕하세요~');
INSERT INTO board(bno, title, writer, content) 
VALUES(seq.NEXTVAL, '좋은 하루', '긴하루', '좋은 하루 되세요');

-- ???? ???
SELECT * FROM board;

-- ?????? ???????? ?????? ???????
SELECT * FROM board 
WHERE bno = 2;

-- ?????? ?????? '??????'???? 'admin'???? ?????????.
-- UPDATE ???????? SET ??? = ???? WHERE ??
UPDATE board SET writer = 'admin'
WHERE bno = 2;

-- 3?? ?????? ????????
-- DELETE FROM ???????? WHERE ??
DELETE FROM board 
WHERE bno = 3;

--재귀 복사 (자료 삽입)
-- INSERT INTO(칼럼) (SELECT 칼럼 FROM 테이블 이름)
INSERT INTO board(bno, title, writer, content)
(SELECT seq.nextval, title, writer, content FROM board);

SELECT ROWNUM, bno, title, content
FROM board
-- ORDER BY regdate DESC;
WHERE ROWNUM > 0 AND ROWNUM <= 10;
-- WHERE ROWNUM > 11 AND ROWNUM <= 20; -- ROWNUM은 1을 포함해야함

-- 페이지 쿼리
SELECT *
FROM (SELECT ROWNUM rn, bno, title, content
FROM board)
WHERE ROWNUM > 11 AND ROWNUM <= 20; --ROWNUM의 별칭을 사용하면 가능함

-- ROWID
-- 데이터를 구분하는 유일한 값
-- ROWID를 통해서 데이터 파일, 어늘 블럭에 저장되어 있는 지 알 수있음

SELECT ROWID, bno, title, content
FROM board;

SELECT ROWID, bno, title, content
FROM board
WHERE ROWID = 'AAAS85AAHAAAAF9AAE';


-- ?????? ????
DROP SEQUENCE seq;

-- ????? ????
DROP TABLE board;


